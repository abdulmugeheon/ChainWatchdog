Update error handling for refactor (minor) - Implemented a new feature to enhance error handling.
